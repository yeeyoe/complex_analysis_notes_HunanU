## 复数的几何意义

这里是几何意义的内容。

回顾 @def-complex-field 的定义。 @ref(def-complex-field)

::: {.content-visible when-format="html"}
### 复数乘法演示

下方演示了两个复数 $z_1$ 和 $z_2$ 的乘积 $z_3 = z_1 \cdot z_2$。你可以拖动蓝色点 ($z_1$) 和红色点 ($z_2$) 来观察乘积向量（绿色点 $z_3$）的变化。

请注意：
1.  $|z_3| = |z_1| \cdot |z_2|$
2.  $\arg(z_3) = \arg(z_1) + \arg(z_2)$

<div id="ggb-element"></div>
<script src="https://www.geogebra.org/apps/deployggb.js"></script>
<script>
var parameters = {
    "id": "ggbApplet",
    "width": 800,
    "height": 600,
    "showToolBar": false,
    "borderColor": null,
    "showMenuBar": false,
    "showAlgebraInput": false,
    "showResetIcon": true,
    "enableLabelDrags": false,
    "enableShiftDragZoom": true,
    "enableRightClick": false,
    "capturingThreshold": null,
    "showToolBarHelp": false,
    "errorDialogsActive": true,
    "useBrowserForJS": false,
    "appletOnLoad": function(api) {
        api.evalCommand("z_1 = 1 + i");
        api.evalCommand("SetColor(z_1, \"Blue\")");
        api.evalCommand("SetCaption(z_1, \"$z_1$\")");
        api.evalCommand("ShowLabel(z_1, true)");

        api.evalCommand("z_2 = 0.5 + 1.5i");
        api.evalCommand("SetColor(z_2, \"Red\")");
        api.evalCommand("SetCaption(z_2, \"$z_2$\")");
        api.evalCommand("ShowLabel(z_2, true)");

        api.evalCommand("z_3 = z_1 * z_2");
        api.evalCommand("SetColor(z_3, \"Green\")");
        api.evalCommand("SetCaption(z_3, \"$z_3 = z_1 \\cdot z_2$\")");
        api.evalCommand("ShowLabel(z_3, true)");

        api.evalCommand("v_1 = Vector(z_1)");
        api.evalCommand("SetColor(v_1, \"Blue\")");

        api.evalCommand("v_2 = Vector(z_2)");
        api.evalCommand("SetColor(v_2, \"Red\")");

        api.evalCommand("v_3 = Vector(z_3)");
        api.evalCommand("SetColor(v_3, \"Green\")");

        api.evalCommand("SetFixed(z_3, true)"); // Dependent object is fixed by definition, but good to be explicit
        
        // Add angles
        api.evalCommand("ang1 = Angle(xAxis, v_1)");
        api.evalCommand("SetColor(ang1, \"Blue\")");
        
        api.evalCommand("ang2 = Angle(xAxis, v_2)");
        api.evalCommand("SetColor(ang2, \"Red\")");

        api.evalCommand("SetAxesVisible(true, true)");
        api.evalCommand("SetGridVisible(true)");
    }
};

var applet = new GGBApplet(parameters, true);
window.onload = function() {
    applet.inject('ggb-element');
};
</script>
:::

::: {.content-visible when-format="pdf"}
### 复数乘法示意图

下图展示了复数乘法的几何意义：模相乘，辐角相加。

```{python}
#| label: fig-complex-mult
#| fig-cap: "复数乘法示意图"
#| echo: false

import matplotlib.pyplot as plt
import numpy as np

def plot_complex_vector(ax, z, color, label):
    ax.quiver(0, 0, z.real, z.imag, angles='xy', scale_units='xy', scale=1, color=color, label=label)
    ax.text(z.real, z.imag, f' {label}', color=color, fontsize=12, verticalalignment='bottom')

z1 = 1 + 1j
z2 = 0.5 + 1.5j
z3 = z1 * z2

fig, ax = plt.subplots(figsize=(6, 6))
plot_complex_vector(ax, z1, 'blue', '$z_1$')
plot_complex_vector(ax, z2, 'red', '$z_2$')
plot_complex_vector(ax, z3, 'green', '$z_3 = z_1 z_2$')

limit = max(abs(z3.real), abs(z3.imag)) * 1.2
ax.set_xlim(-limit, limit)
ax.set_ylim(-limit, limit)
ax.axhline(0, color='black', linewidth=0.5)
ax.axvline(0, color='black', linewidth=0.5)
ax.grid(True, linestyle='--', alpha=0.6)
ax.set_aspect('equal')
ax.set_title('Complex Multiplication')

plt.show()
```
:::
